@model List<Model.EF.ProductCategory>
<ul id="menu">
    <h3 style="margin-left:-1px; margin-right:-1px;">Danh mục sản phẩm</h3>
    @foreach (var item in Model.Where(p => p.ParentID == null))
    {
        var child = Model.Where(p => p.ParentID == item.ID);
        var parentClass = child.Count() > 0 ? "class = dropdown-toggle data-toggle = dropdown" : "";
        <li class="dropdown">
            <a href="/san-pham/@item.MetaTitle-@item.ID" @parentClass>
                @item.Name
            </a>

            @if (child.Count() > 0)
            {   
                <ul class="dropdown-menu" style="width:100%">
                    @foreach (var childItem in child)
                    {
                        <li>
                            <a href="/san-pham/@childItem.MetaTitle-@childItem.ID">
                                @childItem.Name
                            </a>
                        </li>
                    }

                </ul>
            }
        </li>

    }

</ul>
